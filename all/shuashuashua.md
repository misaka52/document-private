## Redis

1. 数据结构
   1. sds：扩容自动分配内存
   2. 链表
   3. 字典：保存键值对。两个hash表以完成hash；渐进式hash；链地址法解决hash冲突（新节点在头部）
   4. 跳表：平均logN查询
   5. 整数集合：升级，不能降级，添加元素O(N)
   6. 压缩列表：单节点属性（前一节点大小1或5字节，编码，数据）；连锁更新，平均复杂度O(N)
2. 对象类型
   1. 字符串：int、embstr、raw
   2. 链表：ziplist、linkedList
   3. 哈希表：ziplist、hashtable
   4. 集合：intset、hashtable
   5. 有序集合：ziplist、skiplist
3. 共享内存。int整数缓存
4. 空转时间lru；剩余过期时间ttl
5. 多数据库
6. 过期键删除策略
7. rdb持久化
8. aof持久化
9. io多路复用
10. 主从复制：首次复制和增量复制
11. 哨兵机制：监听机制（获取主从info信息、订阅消息获取其他哨兵信息、观察上线状态）；主观下线；客观下线；选举领头哨兵；故障迁移
12. 集群模式：槽分片和槽分配；节点间通信；moved错误；重新分票；ASK错误；故障检测；故障转移；新主节点的选举；
13. 事务：multi，discard，exec。分为预发错误和逻辑错误
14. 乐观锁：watch
15. lua脚本
16. 其他结构
    1. bitmap：用于统计访问数量，签到日
    2. hyperloglog：统一数量
    3. geospatial：计算经纬度，距离
    4. stream：可用作内存mq
17. pipeline：指令批处理
18. 调优
    1. 设置最大内存，内存淘汰策略
    2. 设置键的过期值，防止死锁
    3. 计算键值大小，可达到成最大化内存减半的效果
    4. 慢查询日志记录
    5. 禁止pattern通配查询
    6. 选择更小的编码结构
    7. 使用惰性删除
    8. 使用pipeline
    9. 避免大批量键同时过期
    10. 集群高可用
    11. 检查数据持久化
19. 布隆过滤器

