## 一、分布式架构

### 从ACID到CAP/BASE

#### CAP

一致性-C：保证分布式节点的数据一致性。分为强一致性和最终一致性

可用性-A：服务一直可用，对于客户端请求都能在一定时间内返回处理结果

分区容错性-P：系统存在多个副本，保证高可用性，但其中一个副本怪了其他副本仍然可用

放弃P：数据都放在单节点上，保证强一致性。

放弃A：当遇到网络分区或故障时，收到影响的服务要等待一定时间，即服务不可用

放弃C：放弃强一致性， 允许数据短暂的不一致性。常用

#### BASE理论

basically avaiable(基本可用)：允许损失部分可用性。响应时间上的损失：当出现故障时允许查询结果的响应时间增加的1-2s；功能上的损失，当大促期间抢购商品时，部分用户直接降级或熔断

Soft state(软状态)：也成为若状态，允许系统的数据存在中间状态，允许不同节点间数据在同步过程中存在延迟

eventually consistent(最终一致性)：保证数据最终能达到一致的状态