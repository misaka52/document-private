## 第1章 计算机系统漫游

#### 系统的硬件组成

- 总线，负责携带信息并在各个组件中传递
- I/O（输入/输出）设备，是系统与外部世界联系的通道
- 主存，临时存储设备。用来存储执行程序时使用的数据
- 中央处理单元（CPU），简称处理器。用来解释或执行存储在主存中指令的引擎

为解决处理器与主存读取速度的差异，设计了高速缓冲存储器，用来存储最近处理的数据。

存储设备读取速度比较，从上到下读取速度越来越慢

1. 寄存器，保存来自高速缓存存储的字
2. 高速缓存（SRAM）。分别有L1，L2，L3三个高速缓存存储器，读取速度依次变慢。L1读取L2的数据，L2读取L3的数据，L3读取主存的数据
3. 主存，读取磁盘的磁盘块
4. 磁盘



# 第一部分 程序结构和执行

## 第2章 程序的表示和处理

> (3.14 + 1e20) - 1e20 = 0

#### 2.1.1 信息存储

计算机大都用字节，作为最小的可寻址的内存单位

C语言中一般以Ox或ox开头的表示十六进制数，a～f不区分大小写

#### 2.1.2 字数据大小

计算机都一个字长，32位字长和64位字长。表示虚拟地址的范围2^32约4GB, 2^64约16EB。

#### 2.1.3 寻址和字节顺序

最低有效位存在最前面形式， 为小端法。大多数用法，window，linux32，linux64，mac系统为小端法

最高有效为存在最前面形式，为大端发。

> 如int 由四个字节 Ox12345678。小端法存储为 78 56 34 12

二进制代码很少能在机器和不同系统间移植，同一段代码编译的机器代码大都不一致

**移位**

左移：向左移动n位，低位补0

逻辑右移：向右移动n位，高位补0。'>>>'

算术右移：向右移动n位，高位不原最高位符号位。 '>>'

### 2.2 整数

负数补码表示：最高位为符号位。负数补码=正数取反+1

有符号数强制转换为无服务号，补位不便，只不过解释意义变了。无符号数没有符号为

位扩充：左边添加符号位

截断数字，转换成更小空间的数字，把高位直接截掉

### 2.3 整数运算

**补码加法**

若x、y为正，x+y为负则产生溢出（x、y为负，x+y为正同理）。其他情况不溢出

x+y 溢出截断后的结果为

- x + y - 2^w, x + y > 2^w，正溢出
- x + y, 2^-w < x + y < 2 ^ w
- x + y + 2^w, x + y < 2^-w ，负溢出

补码的非：所有位取反+1

